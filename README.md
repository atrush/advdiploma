# Дипломная работа выполнена по окончанию курса Yandex.Practicum "Продвинутый Go-разработчик"

# Задача
Разработка клиент-серверной системы для безопасного хранения информации.
Система:
- Позволяет безопасно хранить логины-пароли, данные банковских карт, произвольные текстовые данные, произвольные бинарные данные.
- Синхронизирует данные с сервером.
- Синхронизирует данные между клиентами одного пользователя.

# Комментарии к реализации
- Хранимые на клиенте объекты шифруются sha256(32) и хранятся в зашифрованном виде в локальном хранилище.
- Для шифрации используется мастер-пароль. 
- При авторизации на сервер отправляется не только логин и пароль, но и хэш мастер-пароля, для обеспечения единого ключа на всех клиентах пользователя. 
- Сервер получает только хэш мастер пароля и уже зашифрованные данные.

- При синхронизации новые объекты получают uuid c сервера.
- Для синхронизации клиент получает список хранимых на сервере uuid объектов, на основе этого формирует задачи для синхронизации.
- Воркер на клиенте отрабатывает задачи синхронизации, при возникновении ошибок или коллизий отбрасывает задачи до следующей синхронизации.

- Реализация CLI интерфейсадля защиты была не критична.

# Комментарии к структуре проекта
```
# client - клиентское приложение
provider - интерфейс и реализации провайдера, подключения к серверу
- provider/http - http провайдер на http клиенте

services - логика
- secret - объекты хранимых данных
- sync - воркер синхронизации, построение плана синхронизации и объекты задач синхронизации
- sync_actions - выполнение задач синхронизации и разрешения конфликтов

storage - локальное хранилище 
- sqllite - реализация хранилища на sql-lite

pkg
- config - конфигурирование клиента с помощью флагов
- crypt - шифрация-дешифрация данных

# server - серверная часть
api 
- handler/authentication - эндпоинты регистрации и авторизации
- handler/secrets - эндпоинты загрузки и удаления объектов в хранилище
- handler/sync - эндпоинт синхронизации данных
- middleware/auth - аутентификация пользователей (JWT)

services
- auth - логика работы с пользователями
- secret - логика работы с объектами хранения

storage
- psql - реализация хранилища PostgreSQL
- psql/migration - миграции БД
- psql/testtool - запуск тестового docker контейнера PostgreSQL для suite тестов БД

pkg
- config - конфигурирование сервера с помощью переменных среды и флагов
- sslcert - генерация ssl сертификатов для запуска http сервера с TLS

```
